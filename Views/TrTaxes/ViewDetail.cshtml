@model TaxForm.Models.TrTax

@{
    ViewData["Title"] = "View Details";
}

<div class="container">

<asp:Panel ID="inputPanel" runat="server">
    <fieldset>
        <div class="row mt-lg-3">
            <div class="col-5">
                <a class="btn btn-outline-secondary" asp-area="" asp-controller="TrTaxes" asp-action="Index">
                    <i class="bi bi-arrow-left-circle"></i> Back
                </a>
            </div>
            @* <div class="col-4">
                <span>
                    <b style="font-size:25px">
                        View Details
                    </b>
                </span>
            </div> *@
        </div>
    </fieldset>
</asp:Panel>
<br />
    <div class="card">
        <h2 class="card-title text-center"><b>View Details</b></h2>
        <hr />
        <div class="card-body">
<form asp-action="Edit">
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <input type="hidden" asp-for="DocumentId" value="@Model.DocumentId" />
    <input type="hidden" asp-for="Id" value="@Model.Id" />
    <div class="form-group">
        <div class="row mt-lg-2">
            <div class="col-2">
                <label asp-for="NomorBuktiPotong" class="col-form-label control-label">Nomor Bukti Potong</label>
                <span asp-validation-for="NomorBuktiPotong" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="NomorBuktiPotong" class="form-control" style="width:350px" type="text" value="@Model.NomorBuktiPotong" />
            </div>
            <div class="col-2">
                <label asp-for="NomorKet" class="col-form-label control-label">Nomor Dokumen</label>
                <span asp-validation-for="NomorKet" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="NomorKet" class="form-control" style="width:350px" type="text" value="@Model.NomorKet" />
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row mt-lg-3">
            <div class="col-2">
                <label asp-for="MasaPajak" class="col-form-label control-label">Masa Pajak</label>
                <span asp-validation-for="MasaPajak" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="MasaPajak" class="form-control" style="width:350px" type="text" value="@Model.MasaPajak" />
            </div>
            <div class="col-2">
                <label asp-for="TanggalKet" class="col-form-label control-label">Tanggal Dokumen</label>
                <span asp-validation-for="TanggalKet" class="text-danger"></span>
            </div>
            <div class="col-4">
                @* <input asp-for="TanggalKet" class="form-control" style="width:350px" type="text" value="@Model.TanggalKet.ToString("dd/MM/yyyy")" /> *@
                <input asp-for="TanggalKet" class="form-control" style="width:350px" type="date" value="@Model.TanggalKet.ToString("yyyy-MM-dd")" />
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row mt-lg-3">
            <div class="col-2">
                <label asp-for="KodeObjekPajak" class="col-form-label control-label">Kode Objek Pajak</label>
                <span asp-validation-for="KodeObjekPajak" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="KodeObjekPajak" class="form-control" style="width:350px" type="text" value="@Model.KodeObjekPajak" />
            </div>
            <div class="col-2">
                <label asp-for="Npwp" class="col-form-label control-label">NPWP Pemotong</label>
                <span asp-validation-for="Npwp" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="Npwp" class="form-control" style="width:350px" type="text" value="@Model.Npwp" />
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row mt-lg-3">
            <div class="col-2">
                <label asp-for="DasarPengenaanPajak" class="col-form-label control-label">Dasar Pengenaan Pajak</label>
                <span asp-validation-for="DasarPengenaanPajak" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="DasarPengenaanPajak" class="form-control" style="width:350px" type="text" value="@Model.DasarPengenaanPajak"
                       data-toggle="tooltip" data-placement="bottom" title="@Model.DasarPengenaanPajak.ToString("#,###")" id="dasarPajak"/>
                 <p class="col-form-label control-label" id="lblDasarPajak">@Model.DasarPengenaanPajak.ToString("#,###")</p>
            </div>
            <div class="col-2">
                <label asp-for="NamaPemotong" class="col-form-label control-label">Nama Pemotong</label>
                <span asp-validation-for="NamaPemotong" class="text-danger"></span>
            </div>
            <div class="col-4">
                <textarea asp-for="NamaPemotong" class="form-control" style="width:350px;height:100px">@Model.NamaPemotong</textarea>

                @* <input asp-for="NamaPemotong" class="form-control" style="width:350px" type="text" value="@Model.NamaPemotong" /> *@
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row mt-lg-3">
            <div class="col-2">
                <label asp-for="Pphdipotong" class="col-form-label control-label">PPH Dipotong</label>
                <span asp-validation-for="Pphdipotong" class="text-danger"></span>
            </div>
            <div class="col-4">
                <input asp-for="Pphdipotong" class="form-control" style="width:350px" type="text" value="@Model.Pphdipotong"
                    data-toggle="tooltip" data-placement="bottom" title="@Model.Pphdipotong.ToString("#,###")" id="PPH" />
                <p class="col-form-label control-label" id="lblPPH">@Model.Pphdipotong.ToString("#,###")</p>
            </div>
            <div class="col-2">
                <label asp-for="TanggalBuktiPotong" class="col-form-label control-label">Tanggal Bukti Potong</label>
                <span asp-validation-for="TanggalBuktiPotong" class="text-danger"></span>
            </div>
            <div class="col-4">
                @* <input asp-for="TanggalBuktiPotong" class="form-control" style="width:350px" type="text" value="@Model.TanggalBuktiPotong.ToString("dd/MM/yyyy")" /> *@
                    <input asp-for="TanggalBuktiPotong" class="form-control" style="width:350px" type="date" value="@Model.TanggalBuktiPotong.ToString("yyyy-MM-dd")" />
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="row mt-lg-3">
            <div class="col-2">
                <label asp-for="KetKodeObjekPajak" class="col-form-label control-label">Keterangan Kode Objek Pajak</label>
                <span asp-validation-for="KetKodeObjekPajak" class="text-danger"></span>
            </div>
            <div class="col-4">
                <textarea asp-for="KetKodeObjekPajak" class="form-control" style="width:350px;height:100px">@Model.KetKodeObjekPajak</textarea>
                @* <input asp-for="KetKodeObjekPajak" class="form-control" style="width:350px" type="text" value="@Model.KetKodeObjekPajak" /> *@
            </div>
            <div class="col-2">
                <label asp-for="StatusPph" class="col-form-label control-label">Status PPH</label>
                <span asp-validation-for="StatusPph" class="text-danger"></span>
                <br /><br />
                    @* <a asp-area="" asp-controller="TrTaxes" asp-action="GetReport"
                       asp-route-id="@Model.FilePath" class="btn-outline-primary" target="_blank">
                        Faktur Pajak
                    </a> *@

                @Html.ActionLink("Faktur Pajak", "GetReport", new { controller = "TrTaxes",
                    target =  @Model.FilePath }, new { target = "_blank", @class="btn-outline-primary" })
            </div>
            <div class="col-4">
                <input asp-for="StatusPph" class="form-control" style="width:350px" type="text" value="@Model.StatusPph" />
            </div>
        </div>
    </div>
    <fieldset>
        <div class="row mt-lg-5">
            <div class="col-8">
            </div>
            <div class="col-4 text-end">
                @*  <a class="btn btn-outline-primary" asp-area="" asp-controller="TrTaxes" asp-action="DownloadFile"
                asp-route-id="@Model.DocumentId">
                Download File
                </a> *@
                @* <a class="btn btn-outline-success" asp-area="" asp-controller="TrTaxes" asp-action="#">
                Edit
                </a> *@
                <input type="submit" value="Save" class="btn btn-outline-success" />
                <a class="btn btn-outline-danger" asp-area="" asp-controller="TrTaxes" asp-action="Index">
                    Cancel
                </a>
            </div>
        </div>

    </fieldset>

</form>
</div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", init, false);

    function init() {
        document.querySelector('#dasarPajak').addEventListener('keyup', setLabelPajak, false);
        document.querySelector('#PPH').addEventListener('keyup', setLabelPPH, false);
    }

    function setLabelPajak(e) {
        var labelDasarPajak = document.querySelector("#lblDasarPajak");
        nfObject = new Intl.NumberFormat('en-US');
        output = nfObject.format(this.value);
        labelDasarPajak.innerText = output;
    }

    function setLabelPPH(e) {
        var labelPPH = document.querySelector("#lblPPH");
        nfObject = new Intl.NumberFormat('en-US');
        output = nfObject.format(this.value);
        labelPPH.innerText = output;
    }

</script>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
